<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Compare a survey timeseries numbers- and biomass- at age to visualize cohorts and compare trends over time. Because abundances can vary greatly over time, abundances are presented as the square-root transform of numbers and biomass values. These plots are taken from work done by Cole Monnahan (cole.monnahan@noaa.gov) and Dave McGowan (david.mcgowan@noaa.gov). You should input biomass values in KG and numbers as numbers of individuals! They will be summarized and plotted as biomass (1000s t) and numbers (millions) as these units work well for our typical pollock surveys."><title>Bubbleplot of the historical numbers- and biomass- at age for the survey timeseries. — plot_historical_age_comps_bubbleplot • MACEReports</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Bubbleplot of the historical numbers- and biomass- at age for the survey timeseries. — plot_historical_age_comps_bubbleplot"><meta property="og:description" content="Compare a survey timeseries numbers- and biomass- at age to visualize cohorts and compare trends over time. Because abundances can vary greatly over time, abundances are presented as the square-root transform of numbers and biomass values. These plots are taken from work done by Cole Monnahan (cole.monnahan@noaa.gov) and Dave McGowan (david.mcgowan@noaa.gov). You should input biomass values in KG and numbers as numbers of individuals! They will be summarized and plotted as biomass (1000s t) and numbers (millions) as these units work well for our typical pollock surveys."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">MACEReports</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/MACEReports-mapping.html">Mapping with MACEReports</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Bubbleplot of the historical numbers- and biomass- at age for the survey timeseries.</h1>
      
      <div class="d-none name"><code>plot_historical_age_comps_bubbleplot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compare a survey timeseries numbers- and biomass- at age to visualize cohorts and compare trends over time. Because abundances can vary greatly over time, abundances are presented as the square-root transform of numbers and biomass values. These plots are taken from work done by Cole Monnahan (cole.monnahan@noaa.gov) and Dave McGowan (david.mcgowan@noaa.gov). You should input biomass values in KG and numbers as numbers of individuals! They will be summarized and plotted as biomass (1000s t) and numbers (millions) as these units work well for our typical pollock surveys.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_historical_age_comps_bubbleplot</span><span class="op">(</span></span>
<span>  <span class="va">survey_year_vector</span>,</span>
<span>  <span class="va">age_vector</span>,</span>
<span>  <span class="va">numbers_vector</span>,</span>
<span>  <span class="va">biomass_vector</span>,</span>
<span>  max_age <span class="op">=</span> <span class="fl">12</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>survey_year_vector</dt>
<dd><p>A vector identifying the year a given numbers or abundance value is from. This vector must be equal in length to <code>age_vector</code>, <code>biomass_vector</code>, and <code>numbers_vector</code>.</p></dd>


<dt>age_vector</dt>
<dd><p>A vector of fish ages (units are assumed to be years). This vector must be equal in length to <code>survey_year_vector</code>, <code>biomass_vector</code>, and <code>numbers_vector</code>.</p></dd>


<dt>numbers_vector</dt>
<dd><p>A vector of fish numbers (units are expected as individual fish.) This vector must be equal in length to <code>survey_year_vector</code>, <code>age_vector</code>, and <code>biomass_vector</code>.</p></dd>


<dt>biomass_vector</dt>
<dd><p>A vector of fish weights (units are expected as KG.) This vector must be equal in length to <code>survey_year_vector</code>, <code>age_vector</code>, and <code>numbers_vector</code>.</p></dd>


<dt>max_age</dt>
<dd><p>Any years &gt;= than this age will be grouped for plotting, and presented as a 'plus' category. Defaults to 12, as this is consistent with how we generally present pollock age values.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A base r plot.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># simulate some fish populations</span></span></span>
<span class="r-in"><span><span class="va">years</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2013</span>,<span class="fl">2015</span>, <span class="fl">2017</span>, <span class="fl">2019</span>, <span class="fl">2021</span><span class="op">)</span>, <span class="fl">100000</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">100000</span>, lambda <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">6</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">numbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3e6</span>, <span class="fl">100</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">100000</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">weights</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">ages</span><span class="op">^</span><span class="fl">3</span> <span class="op">*</span> <span class="fl">.005</span><span class="op">)</span> <span class="op">*</span> <span class="va">numbers</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#plot it</span></span></span>
<span class="r-in"><span><span class="fu">plot_historical_age_comps_bubbleplot</span><span class="op">(</span>survey_year_vector <span class="op">=</span> <span class="va">years</span>,</span></span>
<span class="r-in"><span>age_vector <span class="op">=</span> <span class="va">ages</span>,</span></span>
<span class="r-in"><span>numbers_vector <span class="op">=</span> <span class="va">numbers</span>,</span></span>
<span class="r-in"><span>biomass_vector <span class="op">=</span> <span class="va">weights</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#plot with a higher maximum age grouping</span></span></span>
<span class="r-in"><span><span class="fu">plot_historical_age_comps_bubbleplot</span><span class="op">(</span>survey_year_vector <span class="op">=</span> <span class="va">years</span>,</span></span>
<span class="r-in"><span> age_vector <span class="op">=</span> <span class="va">ages</span>,</span></span>
<span class="r-in"><span> numbers_vector <span class="op">=</span> <span class="va">numbers</span>,</span></span>
<span class="r-in"><span> biomass_vector <span class="op">=</span> <span class="va">weights</span>,</span></span>
<span class="r-in"><span> max_age <span class="op">=</span> <span class="fl">14</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mike Levine.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

